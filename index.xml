<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>jeakob</title><link>https://jeakob.github.io/blog/</link><description>Recent content on jeakob</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 19 Dec 2025 21:08:00 +0000</lastBuildDate><atom:link href="https://jeakob.github.io/blog/index.xml" rel="self" type="application/rss+xml"/><item><title>HP Microserver Gen 8 - FreeBSD Bootloader</title><link>https://jeakob.github.io/blog/posts/hp-microserver-freebsd-boot/</link><pubDate>Fri, 19 Dec 2025 21:08:00 +0000</pubDate><guid>https://jeakob.github.io/blog/posts/hp-microserver-freebsd-boot/</guid><description>&lt;h2 id="the-problem">The Problem&lt;/h2>
&lt;p>The HP MicroServer Gen8 has limited and inflexible boot options. In many configurations, it cannot reliably boot an operating system directly from certain internal drives (most commonly SSDs installed in the optical bay or via internal ports). As a result, the system may fail to start even though the OS is installed correctly and the hardware is otherwise functional.&lt;/p>
&lt;h2 id="the-solution">The Solution&lt;/h2>
&lt;p>This guide explains how to install FreeBSD on external boot media that the HP MicroServer Gen8 can load at startup. Once loaded, the FreeBSD bootloader is used to select a configured internal drive—typically an SSD, which then boots the operating system of your choice.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Tip:&lt;/strong> It’s best to unplug all hard drives first. I recommend installing FreeBSD on the internal USB or microSD card.&lt;/p>&lt;/blockquote>
&lt;p>Press Enter
&lt;img src="https://jeakob.github.io/blog/1_FreeBSD_image.png" width="1200" height="650">&lt;/p>
&lt;p>Press Enter again
&lt;img src="https://jeakob.github.io/blog/2_FreeBSD_image.png" width="1200" height="650">&lt;/p>
&lt;p>Select where you would like install FreeBSD
&lt;img src="https://jeakob.github.io/blog/3_FreeBSD_image.png" width="354" height="245">&lt;/p>
&lt;p>After installing FreeBSD but before restarting, drop to a shell when offered to. Assuming your new boot key is &lt;code>da1&lt;/code>, clear whatever partitions you have first, then format it:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>gpart destroy -F da1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpart create -s GPT da1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="install-the-bootloader">Install the bootloader:&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>gpart bootcode -b /boot/boot0 da1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Assuming all four LFF drive bays are populated, configure the bootloader to use the fifth drive (the SSD) and set it as the default boot option:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>boot0cfg -Bv -o setdrv -d 0x84 -s &lt;span style="color:#ae81ff">5&lt;/span> da1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>0x84&lt;/code> refers to the fifth BIOS drive. Use these if you have others:&lt;/p>
&lt;ul>
&lt;li>&lt;code>0x80&lt;/code> – for just the SSD (though I suppose that’s redundant)&lt;/li>
&lt;li>&lt;code>0x81&lt;/code> – one other drive installed&lt;/li>
&lt;li>&lt;code>0x82&lt;/code> – two other drives installed&lt;/li>
&lt;li>&lt;code>0x83&lt;/code> – three other drives isntalled&lt;/li>
&lt;li>&lt;code>0x84&lt;/code> – all four other drives installed&lt;/li>
&lt;/ul>
&lt;p>The flags are:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>-B install FreeBSD&lt;span style="color:#960050;background-color:#1e0010">&amp;#39;&lt;/span>s boot0 manager
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-v like my blog, be verbose
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-o setdrv refer to the disk by BIOS drive number
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-d BIOS drive number
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-s &lt;span style="color:#ae81ff">5&lt;/span> boot from second disk; in this &lt;span style="color:#66d9ef">case&lt;/span> the SSD 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>There are several ways to approach this, but this method has been reliable for me for years.&lt;/p>
&lt;p>The main drawback is that if you add additional internal drives later, you’ll need to update the boot loader with the new address. If you forget, you can always boot from the FreeBSD installer and drop to a shell to update it again. In practice, though, most people already have all the drive bays populated, which is largely the point of these small systems.&lt;/p>
&lt;p>If your MicroServer still refuses to boot—as one of mine did—try connecting the bootable USB stick to one of the external USB 2.0 ports instead. One of my units may have a flaky internal port, but this workaround worked fine on another system here, as well as on the unit I keep at my dad’s place, which I’ve just realised I forgot to include in my homelab post.&lt;/p>
&lt;h3 id="boot-screenshot">Boot Screenshot:&lt;/h3>
&lt;img src="https://jeakob.github.io/blog/4_FreeBSD_image.png" width="1200" height="650">
&lt;h4 id="after-a-couple-of-seconds-you-will-see-grub">After a couple of seconds, you will see GRUB:&lt;/h4>
&lt;img src="https://jeakob.github.io/blog/FreeBSD_image.png" width="1200" height="650"></description></item><item><title>Dynamic Resolution Setup for Alpine Linux on UTM (macOS M1/M2/M3)</title><link>https://jeakob.github.io/blog/posts/utm-alpine-resolution/</link><pubDate>Thu, 18 Dec 2025 22:00:00 +0000</pubDate><guid>https://jeakob.github.io/blog/posts/utm-alpine-resolution/</guid><description>&lt;p>This guide explains how to enable automatic resolution changes for Alpine Linux with LXQt running in UTM on Apple Silicon Macs.&lt;/p>
&lt;h2 id="the-problem">The Problem&lt;/h2>
&lt;p>When running Alpine Linux in UTM on Apple Silicon, resizing the UTM window doesn&amp;rsquo;t automatically adjust the guest display resolution. This is because the SPICE guest tools need to be properly configured.&lt;/p>
&lt;h2 id="the-solution">The Solution&lt;/h2>
&lt;p>Alpine Linux requires two separate packages for SPICE functionality:&lt;/p>
&lt;ol>
&lt;li>&lt;code>spice-vdagent&lt;/code> - The client application&lt;/li>
&lt;li>&lt;code>spice-vdagent-openrc&lt;/code> - The OpenRC service scripts for the daemon&lt;/li>
&lt;/ol>
&lt;h3 id="step-1-install-required-packages">Step 1: Install Required Packages&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Install both the agent and OpenRC service files&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apk add spice-vdagent spice-vdagent-openrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="step-2-start-and-enable-the-daemon">Step 2: Start and Enable the Daemon&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Start the spice-vdagentd daemon (note the &amp;#39;d&amp;#39; at the end)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rc-service spice-vdagentd start
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Verify it&amp;#39;s running&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rc-service spice-vdagentd status
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Enable it to start automatically at boot&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rc-update add spice-vdagentd default
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="step-3-verify-the-socket-exists">Step 3: Verify the Socket Exists&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Check that the daemon socket was created&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ls -la /run/spice-vdagentd/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should see &lt;code>spice-vdagent-sock&lt;/code> in the output.&lt;/p>
&lt;h3 id="step-4-restart-your-desktop-session">Step 4: Restart Your Desktop Session&lt;/h3>
&lt;p>Log out of LXQt and log back in, or reboot the VM:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>reboot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="how-to-test">How to Test&lt;/h2>
&lt;p>After completing the setup:&lt;/p>
&lt;ol>
&lt;li>Resize the UTM window&lt;/li>
&lt;li>The Alpine Linux desktop resolution should automatically adjust to match&lt;/li>
&lt;/ol>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;h3 id="check-if-the-daemon-is-running">Check if the daemon is running:&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ps aux | grep spice-vdagentd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="check-for-errors-in-logs">Check for errors in logs:&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>dmesg | grep spice
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>grep spice /var/log/messages
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="common-error-messages">Common Error Messages&lt;/h3>
&lt;p>If you see errors like:&lt;/p>
&lt;pre tabindex="0">&lt;code>Failed to connect with spice-vdagentd due &amp;#39;Could not connect: No such file or directory&amp;#39;
&lt;/code>&lt;/pre>&lt;p>This means the &lt;code>spice-vdagentd&lt;/code> daemon is not running. Make sure you&amp;rsquo;ve installed &lt;code>spice-vdagent-openrc&lt;/code> and started the service.&lt;/p>
&lt;h2 id="why-this-works">Why This Works&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>spice-vdagent&lt;/strong>: The client that runs in your X session and communicates display changes&lt;/li>
&lt;li>&lt;strong>spice-vdagentd&lt;/strong>: The daemon that bridges between the SPICE protocol and the client&lt;/li>
&lt;li>&lt;strong>spice-vdagent-openrc&lt;/strong>: Contains the OpenRC init scripts needed to run the daemon as a service&lt;/li>
&lt;/ul>
&lt;p>The client cannot function without the daemon running, which is why both packages are required.&lt;/p>
&lt;h2 id="system-information">System Information&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>OS&lt;/strong>: Alpine Linux&lt;/li>
&lt;li>&lt;strong>Desktop Environment&lt;/strong>: LXQt (also works with other X11-based DEs)&lt;/li>
&lt;li>&lt;strong>Virtualization&lt;/strong>: UTM on macOS (Apple Silicon M1/M2/M3)&lt;/li>
&lt;li>&lt;strong>Backend&lt;/strong>: QEMU or Apple Virtualization Framework&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>&lt;strong>Last Updated&lt;/strong>: December 19, 2025&lt;/p></description></item><item><title>Useful Sites</title><link>https://jeakob.github.io/blog/posts/useful-sites/</link><pubDate>Thu, 18 Dec 2025 10:00:00 +0000</pubDate><guid>https://jeakob.github.io/blog/posts/useful-sites/</guid><description>&lt;h1 id="a-list-of-useful-sites-that-i-have-come-across">A list of useful sites that I have come across:&lt;/h1>
&lt;p>&lt;a href="https://networking-toolbox.as93.net">Networking Toolbox:&lt;/a>&lt;/p>
&lt;img src="https://jeakob.github.io/blog/networking-toolbox.png" width="1267" height="679"></description></item><item><title>Alpine MOTD/Login Banner</title><link>https://jeakob.github.io/blog/posts/alpine-motd/</link><pubDate>Sun, 14 Dec 2025 10:00:00 -0700</pubDate><guid>https://jeakob.github.io/blog/posts/alpine-motd/</guid><description>&lt;h1 id="motdlogin-banner">MOTD/Login Banner&lt;/h1>
&lt;p>Example:&lt;/p>
&lt;img src="https://jeakob.github.io/blog/motd-login-banner.png" width="669" height="196">
&lt;pre tabindex="0">&lt;code># Start blue
echo -en &amp;#34;\033[1;34m&amp;#34; &amp;gt; /etc/motd
# Blue text
echo &amp;#34;Welcome to Alpine!&amp;#34; &amp;gt;&amp;gt; /etc/motd
echo &amp;#34;&amp;#34; &amp;gt;&amp;gt; /etc/motd
# Cyan text
echo -en &amp;#34;\033[1;36m&amp;#34; &amp;gt;&amp;gt; /etc/motd
echo &amp;#34;The Alpine Wiki contains a large amount of how-to guides and general&amp;#34; &amp;gt;&amp;gt; /etc/motd
echo &amp;#34;information about administrating Alpine systems.&amp;#34; &amp;gt;&amp;gt; /etc/motd
echo &amp;#34;See &amp;lt;https://wiki.alpinelinux.org/&amp;gt;.&amp;#34; &amp;gt;&amp;gt; /etc/motd
echo &amp;#34;&amp;#34; &amp;gt;&amp;gt; /etc/motd
# Yellow text
echo -en &amp;#34;\033[1;33m&amp;#34; &amp;gt;&amp;gt; /etc/motd
echo &amp;#34;You can setup the system with the command: setup-alpine&amp;#34; &amp;gt;&amp;gt; /etc/motd
echo &amp;#34;&amp;#34; &amp;gt;&amp;gt; /etc/motd
# Red text for your folder warning
echo -en &amp;#34;\033[1;31m&amp;#34; &amp;gt;&amp;gt; /etc/motd
echo &amp;#34;All files are stored here: cd /root/&amp;#34; &amp;gt;&amp;gt; /etc/motd
# Reset to default
echo -en &amp;#34;\033[0m&amp;#34; &amp;gt;&amp;gt; /etc/motd
&lt;/code>&lt;/pre></description></item><item><title>About</title><link>https://jeakob.github.io/blog/about/about/</link><pubDate>Fri, 12 Dec 2025 00:00:00 +0000</pubDate><guid>https://jeakob.github.io/blog/about/about/</guid><description>&lt;p>This blog will soon contain a lot of information about my current projects, guides and fixes.&lt;/p></description></item></channel></rss>